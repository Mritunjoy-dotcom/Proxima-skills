<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Login - Proxima Skills</title>
</head>
<body class="bg-gray-50">

  <!-- HEADER -->
  <header class="bg-white shadow-sm">
    <div class="max-w-7xl mx-auto flex justify-between items-center py-4 px-6">
      <!-- Logo -->
      <div class="flex items-center gap-2">
        <img src="image/logo.png" alt="Logo" class="h-12">
      </div>

      <!-- Navigation -->
      <nav class="hidden md:flex items-center gap-6 text-gray-700 font-medium">
        <a href="Index.html" class="hover:text-blue-600">Home</a>
        <a href="#" class="hover:text-blue-600">Jobs</a>
        <a href="#" class="hover:text-blue-600">Companies</a>
        <a href="#" class="hover:text-blue-600">Services</a>
      </nav>

      <!-- Buttons -->
      <div class="flex items-center gap-4">
        <a href="login.html" class="px-4 py-1 border border-blue-600 text-blue-600 rounded-full hover:bg-blue-50">Login</a>
        <a href="register.html" class="px-4 py-1 bg-red-500 text-white rounded-full hover:bg-red-600">Register</a>
      </div>
    </div>
  </header>

  <!-- LOGIN SECTION -->
  <div class="flex justify-center items-center py-12">
    <div class="bg-white shadow-lg rounded-lg flex max-w-4xl w-full overflow-hidden">
      
      <!-- Left Section -->
      <div class="w-1/2 bg-white p-8 flex flex-col justify-center">
        <img src="image/login.png" alt="login" class="hight-1 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">New to Proxima Skills?</h2>
        <ul class="space-y-3 text-gray-600">
          <li class="flex items-start"><span class="text-blue-600 mr-2">✔</span> One click apply using your profile.</li>
          <li class="flex items-start"><span class="text-blue-600 mr-2">✔</span> Get relevant job recommendations.</li>
          <li class="flex items-start"><span class="text-blue-600 mr-2">✔</span> Showcase profile to top companies.</li>
          <li class="flex items-start"><span class="text-blue-600 mr-2">✔</span> Track application status easily.</li>
        </ul>
        <a href="register.html" class="mt-6 border border-blue-600 text-blue-600 px-6 py-2 rounded hover:bg-blue-600 hover:text-white transition text-center">Register for Free</a>
      </div>

      <!-- Right Section -->
      <div class="w-1/2 bg-gray-50 p-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Login</h2>
        
        <form id="loginForm" class="space-y-5">
          <div>
            <label class="block text-gray-700 mb-1">Email ID / Username</label>
            <input type="text" name="email" required class="w-full border rounded px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Enter Email ID / Username" />
          </div>
          
          <div>
            <label class="block text-gray-700 mb-1">Password</label>
            <div class="relative">
              <input type="password" name="password" required class="w-full border rounded px-3 py-2 focus:outline-none focus:border-blue-500" placeholder="Enter Password" />
            </div>
            <a href="#" class="text-sm text-blue-600 hover:underline block mt-1">Forgot Password?</a>
          </div>

          <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition">Login</button>

          <div class="text-center text-gray-500">Or</div>

          <button type="button" class="w-full border rounded py-2 flex items-center justify-center gap-2 hover:bg-gray-100 transition">
            <img src="https://www.svgrepo.com/show/355037/google.svg" alt="Google" class="w-5 h-5">
            Sign in with Google
          </button>

          <button type="button" class="w-full border rounded py-2 text-blue-600 hover:bg-blue-50 transition">Use OTP to Login</button>
        </form>
      </div>

    </div>
  </div>

<!-- LOGIN SCRIPT -->
<script>
document.getElementById("loginForm").addEventListener("submit", async function(e) {
  e.preventDefault();

  const email = this.email.value.trim();
  const password = this.password.value.trim();

  try {
    const res = await fetch("http://localhost:5000/api/students/login", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email, password })
    });

    const data = await res.json();

    if (res.ok) {
      // Save token & user info
      localStorage.setItem("token", data.token);
      localStorage.setItem("user", JSON.stringify(data.user));

      alert("✅ Login successful!");
      window.location.href = "dashboard.html";
    } else {
      alert(data.message || "❌ Login failed.");
    }
  } catch (err) {
    console.error(err);
    alert("⚠ Server error. Please try again.");
  }
});
</script>


</body>
</html>

